{
    "name": "R Development Container",
    "dockerFile": "../Dockerfile",
    "customizations": {
        "vscode": {
            "extensions": [
                // R language support
                "REditorSupport.r-vscode",
                
                // R Markdown support
                "quarto.quarto",
                
                // Additional useful extensions
                "streetsidesoftware.code-spell-checker",
                "usernamehw.errorlens",
                "eamodio.gitlens"
            ],
            "settings": {
                "r.bracketedPaste": true,
                "r.debugger.useNative": true,
                "r.interpreter.path": "/usr/local/bin/R",
                "r.lsp.path": "/usr/local/bin/R",
                "r.sessionWatchdog.enabled": true,
                "terminal.integrated.defaultProfile.linux": "bash"
            }
        }
    },
    "features": {
        "ghcr.io/devcontainers/features/github-cli:1": {},
        "ghcr.io/devcontainers/features/git:1": {
            "ppa": true
        }
    },
    "remoteUser": "rstudio",
    "mounts": [
        "source=${localWorkspaceFolder},target=/home/rstudio/workspace,type=bind,consistency=cached"
    ],
    "postCreateCommand": "R -e \"if (!requireNamespace('devtools', quietly = TRUE)) install.packages('devtools')\" && R -e \"devtools::install_dev_deps()\"",
    "remoteEnv": {
        "LOCAL_WORKSPACE_DIR": "/home/rstudio/workspace"
    }
}